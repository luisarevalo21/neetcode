class Solution {
  /**
   * @param {number[][]} grid
   * OPTIMAL
   */
  islandsAndTreasure(grid) {
    //add to the queue if they are not in the set and are land

    /**
     * iterat through the baord searching for the gates
     * once i have them add them to the queue parse them one by one
     * exploroing its neighbors using bfs
     * add them as visited and update its space with the counter
     * add its niehgbors if its land and not in the set
     *
     * increment counter
     */

    const ROWS = grid.length;
    const COLS = grid[0].length;
    const set = new Set();
    const q = [];
    let counter = 0;
    for (let row = 0; row < ROWS; row++) {
      for (let col = 0; col < COLS; col++) {
        if (grid[row][col] === 0) {
          console.log("inside if");
          q.push([row, col]);
        }
      }
    }

    console.log("que", q);
    for (let i = 0; i < q.length; i++) {
      bfs(q[i]);
      set.clear();

      counter = 0;
    }

    console.log("MY GRID", grid);
    return grid;

    function bfs(gate) {
      const queue = [];
      queue.push(gate);

      console.log("qu2eue in bfs", queue);

      while (queue.length > 0) {
        const queueSize = queue.length;

        //loosk its ending soon
        for (let i = 0; i < queueSize; i++) {
          console.log("queue", queue);
          const [row, col] = queue.shift();
          if (counter > 0) grid[row][col] = Math.min(counter, grid[row][col]);
          set.add(`${row},${col}`);

          if (row + 1 < ROWS && grid[row + 1][col] !== -1 && grid[row + 1][col] !== 0 && !set.has(`${row + 1},${col}`)) {
            queue.push([row + 1, col]);
          }

          if (row - 1 >= 0 && grid[row - 1][col] !== -1 && grid[row - 1][col] !== 0 && !set.has(`${row - 1},${col}`)) {
            queue.push([row - 1, col]);
          }

          if (col + 1 < COLS && grid[row][col + 1] !== -1 && grid[row][col + 1] !== 0 && !set.has(`${row},${col + 1}`)) {
            queue.push([row, col + 1]);
          }
          console.log("queeu", queue);

          if (col - 1 >= 0 && grid[row][col - 1] !== -1 && grid[row][col - 1] !== 0 && !set.has(`${row},${col - 1}`)) {
            queue.push([row, col - 1]);
          }
        }
        counter++;
        // console.log("counter", counter)
      }
    }
  }
}

const s = new Solution();
s.islandsAndTreasure([
  [
    0, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647,
    2147483647, 2147483647, 2147483647,
  ],
  [-1, -1, -1, -1, 2147483647, -1, -1, -1, -1, -1, -1, 2147483647, -1, -1, -1],
  [
    2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647,
    2147483647, 2147483647, 2147483647, 2147483647,
  ],
  [2147483647, -1, -1, -1, -1, 2147483647, -1, -1, -1, -1, -1, 2147483647, -1, -1, -1],
  [
    2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647,
    2147483647, 2147483647, 2147483647, 2147483647,
  ],
  [2147483647, -1, -1, -1, -1, 2147483647, -1, -1, -1, -1, -1, 2147483647, -1, -1, -1],
  [
    2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647,
    2147483647, 2147483647, 2147483647, 2147483647,
  ],
  [2147483647, -1, -1, -1, -1, 2147483647, -1, -1, -1, -1, -1, 2147483647, -1, -1, -1],
  [
    2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647,
    2147483647, 2147483647, 2147483647, 2147483647,
  ],
  [2147483647, -1, -1, -1, -1, 2147483647, -1, -1, -1, -1, -1, 2147483647, -1, -1, -1],
  [
    2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647,
    2147483647, 2147483647, 2147483647, 2147483647,
  ],
  [2147483647, -1, -1, -1, -1, 2147483647, -1, -1, -1, -1, -1, 2147483647, -1, -1, -1],
  [
    2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647,
    2147483647, 2147483647, 2147483647, 2147483647,
  ],
  [2147483647, -1, -1, -1, -1, 2147483647, -1, -1, -1, -1, -1, 2147483647, -1, -1, -1],
  [
    2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647,
    2147483647, 2147483647, 2147483647, 2147483647,
  ],
  [2147483647, -1, -1, -1, -1, 2147483647, -1, -1, -1, -1, -1, 2147483647, -1, -1, -1],
  [
    2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647,
    2147483647, 2147483647, 2147483647, 2147483647,
  ],
  [2147483647, -1, -1, -1, -1, 2147483647, -1, -1, -1, -1, -1, 2147483647, -1, -1, -1],
  [
    2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647,
    2147483647, 2147483647, 2147483647, 2147483647,
  ],
  [
    0, -1, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647, 2147483647,
    2147483647, 2147483647, 2147483647,
  ],
]);
